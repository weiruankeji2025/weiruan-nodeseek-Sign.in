# NodeSeek 增强助手

简洁高效的 NodeSeek 论坛增强油猴脚本，提供自动签到、关键字监控、交易追踪等实用功能。

## 功能特点

| 功能 | 说明 |
|------|------|
| **自动签到** | 每日自动签到，支持随机/固定鸡腿模式 |
| **关键字监控** | 自定义关键字实时监控，支持精准/模糊匹配 |
| **关键字设置** | 可视化设置面板，无需编辑代码即可修改关键字 |
| **消息弹窗** | 关键字匹配时弹窗提醒，点击可跳转帖子 |
| **自动翻页** | 自动翻页浏览，可自定义翻页间隔（10-300秒） |
| **最新交易** | 侧边栏显示5个正在进行的交易（出售/求购） |
| **最新抽奖** | 侧边栏显示5个正在进行的抽奖帖，含开奖时间 |
| **已浏览标记** | 浏览过的帖子标红显示"[已浏览]"，避免重复查看 |
| **中奖提醒** | 自动检测参与的抽奖，中奖时弹窗通知 |
| **全页面显示** | 侧边栏在所有页面显示，随时查看信息 |
| **深色模式** | 自动适配系统深色主题 |

## 安装方法

1. 安装 [Tampermonkey](https://www.tampermonkey.net/) 浏览器扩展
2. 点击安装脚本：[nodeseek-auto-checkin.user.js](./nodeseek-auto-checkin.user.js)
3. 访问 NodeSeek 论坛即可自动生效

## 使用说明

### 侧边栏功能

安装后，页面右侧会显示侧边栏（屏幕宽度 > 1400px 时），包含以下卡片：

| 卡片 | 功能 |
|------|------|
| 📄 **自动翻页** | 启动/停止自动翻页，可自定义翻页间隔 |
| ⚙️ **关键字设置** | 可视化编辑精准/模糊匹配关键字 |
| 🔍 **关键字监控** | 显示匹配到的帖子列表 |
| 💰 **最新交易** | 显示正在进行的交易帖 |
| 🎁 **最新抽奖** | 显示进行中的抽奖帖及开奖时间 |

### 自动翻页

1. 在侧边栏 **间隔(秒)** 输入框中设置翻页间隔（10-300秒）
2. 点击 **启动** 按钮开始自动翻页
3. 倒计时显示距离下次翻页的时间
4. 点击 **停止** 暂停自动翻页
5. 点击 **下一页** 手动翻页

### 关键字设置（可视化）

1. 点击侧边栏 **⚙️ 关键字设置** 展开设置面板
2. 在输入框中编辑关键字，多个关键字用逗号分隔
3. 点击 **保存设置** 按钮保存
4. 设置会自动持久化，刷新页面后依然有效

**关键字匹配模式：**

| 模式 | 说明 | 示例 |
|------|------|------|
| **精准匹配** | 标题必须包含完整关键词 | VPS, CN2, GIA |
| **模糊匹配** | 标题包含关键词即可 | 优惠, 特价, 免费 |

## 高级配置

如需修改默认配置，在 Tampermonkey 中编辑脚本，找到 `CONFIG` 对象：

```javascript
const CONFIG = {
    // 签到模式：true=随机鸡腿(0-10), false=固定5鸡腿
    RANDOM_MODE: true,

    // 显示数量
    TRADE_COUNT: 5,        // 交易显示数量
    LOTTERY_COUNT: 5,      // 抽奖显示数量

    // 默认关键字（首次使用时生效，之后以设置面板为准）
    KEYWORDS_EXACT: ['VPS', 'CN2', 'GIA'],
    KEYWORDS_FUZZY: ['优惠', '特价', '免费', '白嫖', '羊毛'],

    // 监控间隔（毫秒），默认30秒
    KEYWORD_MONITOR_INTERVAL: 30 * 1000,

    // 是否启用关键字监控
    KEYWORD_MONITOR_ENABLED: true,

    // 自动翻页配置
    AUTO_PAGE_ENABLED: false,  // 是否自动启动
    AUTO_PAGE_INTERVAL: 60,    // 默认翻页间隔（秒）

    // 中奖检测间隔（毫秒）
    WIN_CHECK_INTERVAL: 10 * 60 * 1000
};
```

### 签到模式

| 模式 | 配置值 | 说明 |
|------|--------|------|
| **随机模式** | `RANDOM_MODE: true` | 随机获得0-10个鸡腿（默认） |
| **固定模式** | `RANDOM_MODE: false` | 固定获得5个鸡腿 |

## 效果预览

```
┌─────────────────────────┐
│ 📄 自动翻页          [−]│
├─────────────────────────┤
│ 已停止    [启动][下一页]│
│ 间隔(秒): [60]          │
└─────────────────────────┘
┌─────────────────────────┐
│ ⚙️ 关键字设置        [+]│
└─────────────────────────┘
┌─────────────────────────┐
│ 🔍 关键字监控        [−]│
├─────────────────────────┤
│ 🟢精准:VPS 出售VPS...   │
│ 🔵模糊:优惠 双十二优惠..│
└─────────────────────────┘
┌─────────────────────────┐
│ 💰 最新交易          [−]│
├─────────────────────────┤
│ 🔴出售 Netcup VPS...    │
│ 🔵求购 香港轻量... [已浏览]│
└─────────────────────────┘
┌─────────────────────────┐
│ 🎁 最新抽奖          [−]│
├─────────────────────────┤
│ 🟢抽奖 送Gmail账号...   │
│    ⏰ 12月25日20:00开奖 │
└─────────────────────────┘
```

## 更新日志

### v2.5.0
- 新增自动翻页间隔自定义设置（10-300秒）
- 优化侧边栏布局，减小宽度和间距
- 优化内存占用，使用缓存减少存储读取
- 已浏览记录保留时间优化为14天
- 移除骗子曝光功能

### v2.4.0
- 侧边栏现在在所有页面显示
- 新增关键字设置面板，支持可视化编辑
- 设置自动保存并持久化存储
- 关键字支持中英文逗号分隔

### v2.3.0
- 新增自定义关键字监控功能（精准匹配/模糊匹配）
- 新增消息弹窗提醒，关键字匹配时实时通知
- 新增自动翻页功能，可自定义翻页间隔
- 侧边栏新增关键字监控卡片和自动翻页控制面板

### v2.2.0
- 移除鸡腿统计功能
- 移除最新技术栏目
- 优化骗子曝光索引，支持全站内容索引

### v2.0.0
- 新增已浏览帖子标记功能
- 新增中奖提醒功能
- 新增开奖时间显示
- 交易和抽奖各显示5个
- 只索引标题，不索引帖子内容

### v1.0.0
- 自动签到功能

## 常见问题

**Q: 侧边栏没有显示？**
A: 侧边栏仅在屏幕宽度大于1400px时显示，请调整浏览器窗口大小。

**Q: 关键字设置保存后没有生效？**
A: 保存后会自动刷新关键字监控卡片，如果没有匹配结果会显示"暂无匹配"。

**Q: 如何关闭关键字监控？**
A: 在脚本配置中将 `KEYWORD_MONITOR_ENABLED` 设置为 `false`。

**Q: 如何修改自动翻页间隔？**
A: 在侧边栏的"自动翻页"卡片中，直接修改"间隔(秒)"输入框的数值，然后点击"启动"按钮即可保存。

## 许可证

MIT License
